{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { BASE_URL } from \"../../components/constants\";\nimport axios from \"axios\";\nexport const loginUser = createAsyncThunk('user/loginUser', async userCredentials => {\n  const request = await axios.post(`${BASE_URL}api/authorize`, userCredentials);\n  const response = await request.data;\n  localStorage.setItem(\"token\", response.token);\n  return response;\n});\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState: {\n    loading: false,\n    user: null,\n    error: null\n  },\n  extraReducers: builder => {\n    builder.addCase(loginUser.pending, state => {\n      state.loading = true;\n      state.user = null;\n      state.error = null;\n    }).addCase(loginUser.fulfilled, (state, action) => {\n      state.loading = false;\n      state.user = action.payload;\n      state.error = null;\n    }).addCase(loginUser.rejected, (state, action) => {\n      state.loading = true;\n      console.log(action.error.response.data);\n      state.error = \"Wrong credentials\";\n      state.user = null;\n    });\n  }\n});\nexport default authSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","BASE_URL","axios","loginUser","userCredentials","request","post","response","data","localStorage","setItem","token","authSlice","name","initialState","loading","user","error","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","console","log","reducer"],"sources":["C:/Programming/project/app-front/src/features/auth/authSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { BASE_URL } from \"../../components/constants\";\r\nimport axios from \"axios\";\r\n\r\nexport const loginUser = createAsyncThunk(\r\n    'user/loginUser',\r\n    async(userCredentials) => {\r\n        const request = await axios.post(`${BASE_URL}api/authorize`, userCredentials);\r\n        const response = await request.data;\r\n        localStorage.setItem(\"token\", response.token);\r\n        return response;\r\n    }\r\n)\r\n\r\n\r\nconst authSlice = createSlice({\r\n    name: 'auth',\r\n    initialState: {\r\n        loading: false,\r\n        user: null,\r\n        error: null\r\n    },\r\n    extraReducers:(builder) => {\r\n        builder\r\n        .addCase(loginUser.pending, (state) => {\r\n            state.loading = true;\r\n            state.user = null;\r\n            state.error = null;\r\n\r\n        })\r\n        .addCase(loginUser.fulfilled, (state, action) => {\r\n            state.loading = false;\r\n            state.user = action.payload;\r\n            state.error = null;\r\n        })\r\n        .addCase(loginUser.rejected, (state, action) => {\r\n            state.loading = true;\r\n            console.log(action.error.response.data);\r\n            state.error = \"Wrong credentials\"\r\n            state.user = null\r\n        })\r\n    }\r\n})\r\n\r\n\r\nexport default authSlice.reducer;"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,SAASC,QAAQ,QAAQ,4BAA4B;AACrD,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,SAAS,GAAGJ,gBAAgB,CACrC,gBAAgB,EAChB,MAAMK,eAAe,IAAK;EACtB,MAAMC,OAAO,GAAG,MAAMH,KAAK,CAACI,IAAI,CAAE,GAAEL,QAAS,eAAc,EAAEG,eAAe,CAAC;EAC7E,MAAMG,QAAQ,GAAG,MAAMF,OAAO,CAACG,IAAI;EACnCC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,QAAQ,CAACI,KAAK,CAAC;EAC7C,OAAOJ,QAAQ;AACnB,CACJ,CAAC;AAGD,MAAMK,SAAS,GAAGZ,WAAW,CAAC;EAC1Ba,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACVC,OAAO,EAAE,KAAK;IACdC,IAAI,EAAE,IAAI;IACVC,KAAK,EAAE;EACX,CAAC;EACDC,aAAa,EAAEC,OAAO,IAAK;IACvBA,OAAO,CACNC,OAAO,CAACjB,SAAS,CAACkB,OAAO,EAAGC,KAAK,IAAK;MACnCA,KAAK,CAACP,OAAO,GAAG,IAAI;MACpBO,KAAK,CAACN,IAAI,GAAG,IAAI;MACjBM,KAAK,CAACL,KAAK,GAAG,IAAI;IAEtB,CAAC,CAAC,CACDG,OAAO,CAACjB,SAAS,CAACoB,SAAS,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MAC7CF,KAAK,CAACP,OAAO,GAAG,KAAK;MACrBO,KAAK,CAACN,IAAI,GAAGQ,MAAM,CAACC,OAAO;MAC3BH,KAAK,CAACL,KAAK,GAAG,IAAI;IACtB,CAAC,CAAC,CACDG,OAAO,CAACjB,SAAS,CAACuB,QAAQ,EAAE,CAACJ,KAAK,EAAEE,MAAM,KAAK;MAC5CF,KAAK,CAACP,OAAO,GAAG,IAAI;MACpBY,OAAO,CAACC,GAAG,CAACJ,MAAM,CAACP,KAAK,CAACV,QAAQ,CAACC,IAAI,CAAC;MACvCc,KAAK,CAACL,KAAK,GAAG,mBAAmB;MACjCK,KAAK,CAACN,IAAI,GAAG,IAAI;IACrB,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AAGF,eAAeJ,SAAS,CAACiB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}