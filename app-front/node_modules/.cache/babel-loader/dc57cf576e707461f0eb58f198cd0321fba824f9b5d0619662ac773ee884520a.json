{"ast":null,"code":"import{useState,useEffect}from\"react\";import api from\"../../api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SubsComponent=()=>{const[subData,setSubData]=useState([]);const[unactiveSubData,setUnactiveSubData]=useState([]);const[activeCounter,setActiveCounter]=useState(0);useEffect(()=>{const fetchData=async()=>{try{const response=await api.get('/user/active-subs');if(Array.isArray(response.data.success)){setSubData(response.data.success);const counter=response.data.success.reduce((acc,sub)=>acc+(sub.active?1:0),0);setActiveCounter(counter);const secondResponse=api.get('/user/unactive-subs');// console.log((await secondResponse).data.success);\nsetUnactiveSubData(secondResponse);}else{console.error('Invalid data format:',response.data);}}catch(error){console.error('Error fetching active subscriptions:',error);}};fetchData();},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Activated subscriptions count:\"}),\" \",activeCounter]})});};export default SubsComponent;","map":{"version":3,"names":["useState","useEffect","api","jsx","_jsx","jsxs","_jsxs","SubsComponent","subData","setSubData","unactiveSubData","setUnactiveSubData","activeCounter","setActiveCounter","fetchData","response","get","Array","isArray","data","success","counter","reduce","acc","sub","active","secondResponse","console","error","children"],"sources":["C:/Proggramming/app-front/src/components/subscriptions/SubsComponent.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport api from \"../../api\";\r\n\r\nconst SubsComponent = () => {\r\n    const [subData, setSubData] = useState([]);\r\n    const [unactiveSubData, setUnactiveSubData] = useState([]);\r\n    const [activeCounter, setActiveCounter] = useState(0);\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const response = await api.get('/user/active-subs');\r\n                if (Array.isArray(response.data.success)) {\r\n                    setSubData(response.data.success);\r\n                    const counter = response.data.success.reduce((acc, sub) => acc + (sub.active ? 1 : 0), 0);\r\n            \r\n                    setActiveCounter(counter);\r\n\r\n                    const secondResponse = api.get('/user/unactive-subs');\r\n                    // console.log((await secondResponse).data.success);\r\n                    setUnactiveSubData(secondResponse);\r\n\r\n\r\n                } else {\r\n                    console.error('Invalid data format:', response.data);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching active subscriptions:', error);\r\n            }\r\n        };\r\n    \r\n        fetchData();\r\n    }, []);\r\n    \r\n\r\n    return (\r\n        <div>\r\n           \r\n            <div>\r\n            <strong>Activated subscriptions count:</strong> {activeCounter}\r\n            </div>\r\n            {/* <div>\r\n                <strong>Unactivated subscriptions count:</strong> {unactiveSubData.active}\r\n            </div> */}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubsComponent;\r\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,GAAG,KAAM,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5B,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACU,eAAe,CAAEC,kBAAkB,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACY,aAAa,CAAEC,gBAAgB,CAAC,CAAGb,QAAQ,CAAC,CAAC,CAAC,CACrDC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAa,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAb,GAAG,CAACc,GAAG,CAAC,mBAAmB,CAAC,CACnD,GAAIC,KAAK,CAACC,OAAO,CAACH,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC,CAAE,CACtCX,UAAU,CAACM,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC,CACjC,KAAM,CAAAC,OAAO,CAAGN,QAAQ,CAACI,IAAI,CAACC,OAAO,CAACE,MAAM,CAAC,CAACC,GAAG,CAAEC,GAAG,GAAKD,GAAG,EAAIC,GAAG,CAACC,MAAM,CAAG,CAAC,CAAG,CAAC,CAAC,CAAE,CAAC,CAAC,CAEzFZ,gBAAgB,CAACQ,OAAO,CAAC,CAEzB,KAAM,CAAAK,cAAc,CAAGxB,GAAG,CAACc,GAAG,CAAC,qBAAqB,CAAC,CACrD;AACAL,kBAAkB,CAACe,cAAc,CAAC,CAGtC,CAAC,IAAM,CACHC,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEb,QAAQ,CAACI,IAAI,CAAC,CACxD,CACJ,CAAE,MAAOS,KAAK,CAAE,CACZD,OAAO,CAACC,KAAK,CAAC,sCAAsC,CAAEA,KAAK,CAAC,CAChE,CACJ,CAAC,CAEDd,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAGN,mBACIV,IAAA,QAAAyB,QAAA,cAEIvB,KAAA,QAAAuB,QAAA,eACAzB,IAAA,WAAAyB,QAAA,CAAQ,gCAA8B,CAAQ,CAAC,IAAC,CAACjB,aAAa,EACzD,CAAC,CAIL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAL,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}