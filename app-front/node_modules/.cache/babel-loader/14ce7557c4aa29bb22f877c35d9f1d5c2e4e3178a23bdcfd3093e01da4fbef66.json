{"ast":null,"code":"// // AccountPage.js\n// import React, { useState, useEffect } from 'react';\n// import api from '../api';\n// import 'bootstrap/dist/css/bootstrap.css';\n// import { Modal, Button } from 'react-bootstrap';\n// import { createBrowserHistory } from 'history';\n\n// const AccountPage = () => {\n//   const [userData, setUserData] = useState(null);\n//   const [showModal, setShowModal] = useState(false);\n//   const [modalMessage, setModalMessage] = useState('');\n//   const history = createBrowserHistory();\n\n//   useEffect(() => {\n\n//     api.get('/user/data')\n//       .then(response => {\n//         setUserData(response.data);\n//       })\n//       .catch(error => {\n//         console.error('Error fetching user data:', error);\n//       });\n//   }, []);\n\n//   const handleDeleteAccount = () => {\n//     if (window.confirm('Are you sure you want to delete your account?')) {\n//       // Assuming there's a 'user_id' field in the user data\n//       const userId = userData && userData.user_id;\n\n//       if (userId) {\n//         api.delete(`/delete/${userId}`)\n//           .then(response => {\n//             setModalMessage('Account deleted successfully');\n//             setShowModal(true);\n//             history.push(\"/home\");\n//           })\n//           .catch(error => {\n//             console.error('Error deleting account:', error);\n//           });\n//       }\n//     }\n//   };\n\n//   const handleCloseModal = () => {\n//     setShowModal(false);\n//     // Redirect to HomePage.js\n//     window.location.href = '/home';\n//   };\n//   return (\n//     <div className='container mt-5'>\n//       <h1>Account Page</h1>\n\n//       {userData && (\n//         <div>\n//           <p>Name: {userData.user_name}</p>\n//           <p>Email: {userData.user_email}</p>\n//           <p>Last workout check: {userData.last_check}</p>\n//           <button type=\"button\"  className=\"btn btn-danger\" onClick={handleDeleteAccount}>Delete account</button>\n//           <button type=\"button\" className=\"btn btn-primary\">Logout</button>\n\n//         </div>\n//       )}\n//       {/* Modal for successful deletion */}\n//       <Modal show={showModal} onHide={handleCloseModal}>\n//         <Modal.Header closeButton>\n//           <Modal.Title>Success</Modal.Title>\n//         </Modal.Header>\n//         <Modal.Body>{modalMessage}</Modal.Body>\n//         <Modal.Footer>\n//           <Button variant=\"primary\" onClick={handleCloseModal}>\n//             Close\n//           </Button>\n//         </Modal.Footer>\n//       </Modal>\n//     </div>\n\n//   );\n// };\n\n// export default AccountPage;","map":{"version":3,"names":[],"sources":["C:/Proggramming/app-front/src/components/AccountPage.js"],"sourcesContent":["// // AccountPage.js\r\n// import React, { useState, useEffect } from 'react';\r\n// import api from '../api';\r\n// import 'bootstrap/dist/css/bootstrap.css';\r\n// import { Modal, Button } from 'react-bootstrap';\r\n// import { createBrowserHistory } from 'history';\r\n\r\n// const AccountPage = () => {\r\n//   const [userData, setUserData] = useState(null);\r\n//   const [showModal, setShowModal] = useState(false);\r\n//   const [modalMessage, setModalMessage] = useState('');\r\n//   const history = createBrowserHistory();\r\n\r\n//   useEffect(() => {\r\n    \r\n//     api.get('/user/data')\r\n//       .then(response => {\r\n//         setUserData(response.data);\r\n//       })\r\n//       .catch(error => {\r\n//         console.error('Error fetching user data:', error);\r\n//       });\r\n//   }, []);\r\n\r\n//   const handleDeleteAccount = () => {\r\n//     if (window.confirm('Are you sure you want to delete your account?')) {\r\n//       // Assuming there's a 'user_id' field in the user data\r\n//       const userId = userData && userData.user_id;\r\n\r\n//       if (userId) {\r\n//         api.delete(`/delete/${userId}`)\r\n//           .then(response => {\r\n//             setModalMessage('Account deleted successfully');\r\n//             setShowModal(true);\r\n//             history.push(\"/home\");\r\n//           })\r\n//           .catch(error => {\r\n//             console.error('Error deleting account:', error);\r\n//           });\r\n//       }\r\n//     }\r\n//   };\r\n  \r\n  \r\n//   const handleCloseModal = () => {\r\n//     setShowModal(false);\r\n//     // Redirect to HomePage.js\r\n//     window.location.href = '/home';\r\n//   };\r\n//   return (\r\n//     <div className='container mt-5'>\r\n//       <h1>Account Page</h1>\r\n      \r\n      \r\n//       {userData && (\r\n//         <div>\r\n//           <p>Name: {userData.user_name}</p>\r\n//           <p>Email: {userData.user_email}</p>\r\n//           <p>Last workout check: {userData.last_check}</p>\r\n//           <button type=\"button\"  className=\"btn btn-danger\" onClick={handleDeleteAccount}>Delete account</button>\r\n//           <button type=\"button\" className=\"btn btn-primary\">Logout</button>\r\n\r\n//         </div>\r\n//       )}\r\n//       {/* Modal for successful deletion */}\r\n//       <Modal show={showModal} onHide={handleCloseModal}>\r\n//         <Modal.Header closeButton>\r\n//           <Modal.Title>Success</Modal.Title>\r\n//         </Modal.Header>\r\n//         <Modal.Body>{modalMessage}</Modal.Body>\r\n//         <Modal.Footer>\r\n//           <Button variant=\"primary\" onClick={handleCloseModal}>\r\n//             Close\r\n//           </Button>\r\n//         </Modal.Footer>\r\n//       </Modal>\r\n//     </div>\r\n    \r\n//   );\r\n// };\r\n\r\n// export default AccountPage;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}